CREATE DATABASE OutOfOfficeDB;
CREATE TABLE employee (`Id` INT NOT NULL AUTO_INCREMENT, `Name` VARCHAR(50) NOT NULL, `Subdivision_Id` INT NOT NULL, `Position_Id` INT NOT NULL, `Status` INT NOT NULL, `Balance` INT NOT NULL, `Login` VARCHAR(50) NOT NULL, `Password` VARCHAR(1024) NOT NULL, `RefreshToken` VARCHAR(1024) NULL, PRIMARY KEY (`Id`));
CREATE TABLE leaverequest (`Id` INT NOT NULL AUTO_INCREMENT, `Employee_Id` INT NOT NULL, `Reason_Id` INT NOT NULL, `StartDate` DATE NOT NULL, `EndDate` DATE NOT NULL, `Comment` TEXT NULL, `Status` INT NOT NULL, PRIMARY KEY (`Id`));
CREATE TABLE approvalrequest (`Id` INT NOT NULL AUTO_INCREMENT, `Approver_Id` INT NOT NULL, `LeaveRequest_Id` INT NOT NULL, `Status` INT NOT NULL, `Comment` TEXT NULL, PRIMARY KEY (`Id`));
CREATE TABLE project (`Id` INT NOT NULL AUTO_INCREMENT, `Name` VARCHAR(50) NOT NULL, `ProjectType_Id` INT NOT NULL, `StartDate` DATE NOT NULL, `EndDate` DATE NULL, `Manager_Id` INT NOT NULL, `Comment` TEXT NULL, `Status` INT NOT NULL, PRIMARY KEY (`Id`));
CREATE TABLE employeeposition (`Id` INT NOT NULL AUTO_INCREMENT, `Name` VARCHAR(50) NOT NULL, PRIMARY KEY (`Id`));
CREATE TABLE subdivision (`Id` INT NOT NULL AUTO_INCREMENT, `Name` VARCHAR(50) NOT NULL, PRIMARY KEY (`Id`));
CREATE TABLE reason (`Id` INT NOT NULL AUTO_INCREMENT, `Name` VARCHAR(256) NOT NULL, PRIMARY KEY (`Id`));
CREATE TABLE projecttype (`Id` INT NOT NULL AUTO_INCREMENT, `Name` VARCHAR(50) NOT NULL, PRIMARY KEY (`Id`));
CREATE TABLE projectmember (`Id` INT NOT NULL AUTO_INCREMENT, `Project_Id` INT NOT NULL, `Employee_Id` INT NOT NULL, PRIMARY KEY (`Id`));
CREATE TABLE peoplepartner (`Id` INT NOT NULL AUTO_INCREMENT, `Employee_Id` INT NOT NULL, `Partner_Id` INT NOT NULL, PRIMARY KEY (`Id`));
ALTER TABLE employee ADD FOREIGN KEY (Position_Id) REFERENCES employeeposition(Id);
ALTER TABLE employee ADD FOREIGN KEY (Subdivision_Id) REFERENCES subdivision(Id);
ALTER TABLE leaverequest ADD FOREIGN KEY (Employee_Id) REFERENCES employee(Id);
ALTER TABLE leaverequest ADD FOREIGN KEY (Reason_Id) REFERENCES reason(Id);
ALTER TABLE approvalrequest ADD FOREIGN KEY (Approver_Id) REFERENCES employee(Id);
ALTER TABLE approvalrequest ADD FOREIGN KEY (LeaveRequest_Id) REFERENCES leaverequest(Id);
ALTER TABLE project ADD FOREIGN KEY (Manager_Id) REFERENCES employee(Id);
ALTER TABLE project ADD FOREIGN KEY (ProjectType_Id) REFERENCES projecttype(Id);
ALTER TABLE projectmember ADD FOREIGN KEY (Project_Id) REFERENCES project(Id);
ALTER TABLE projectmember ADD FOREIGN KEY (Employee_Id) REFERENCES employee(Id);
ALTER TABLE peoplepartner ADD FOREIGN KEY (Employee_Id) REFERENCES employee(Id);
ALTER TABLE peoplepartner ADD FOREIGN KEY (Partner_Id) REFERENCES employee(Id);
INSERT INTO employeeposition ( Name ) VALUES ('Employee'), ('HR Manager'), ('Project Manager'), ('Administrator');
INSERT INTO subdivision ( Name ) VALUES ('IT'), ('HR'), ('Marketing'), ('Accounting'), ('Office');
INSERT INTO reason ( Name ) VALUES ('Accident'), ('Death of family member'), ('Personal Illness'), ('Childâ€™s Illness'), ('Emergency'), ('Car Problem'), ('Medical Appointment'), ('Other');
INSERT INTO projecttype( Name ) VALUES ('Business implementation'), ('Foundational (business improvement)'), ('IT infrastructure improvement'), ('IT infrastructure improvement'), ('Product development (IT)'), ('Product development (non-IT)'), ('Physical engineering/construction'), ('Physical infrastructure improvement'), ('Procurement'), ('Regulatory/compliance'), ('Research and Development (R&D)'), ('Service development'), ('Transformation/reengineering'), ('Other');